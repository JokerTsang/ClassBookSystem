## ClassBooking System Design document

### 用户管理模块

#### 用户注册（邀请制）

* 用户名（唯一标志，需要检查是否已存在）
* 用户姓名
* 性别
* 联系电话
* 密码（做安全级别校验）
* 用户类型（教师/学生/超级管理员）
* 邀请码（每个邀请码使用次数有限）

#### 用户登录

​	用户名加密码匹配即可登录，密码进行加密

#### 用户修改

​	登录后可以进行用户姓名、联系电话以及密码修改，性别和用户类型不允许修改

#### 用户登出

​	登录后可以选择登出（直接关闭界面，10分钟后无连接自动登出）

#### 用户注销

​	将用户状态改为已注销，不允许再登录系统（逻辑删除，仅管理员可操作）

#### 用户消息

​	初期消息模块只会由系统推送产生，不支持站内聊天，消息有以下内容：

>消息唯一键值
>
>消息目标用户
>
>消息类型（初期只提供S for system类型，后续按需增加）
>
>消息内容
>
>消息产生时间
>
>消息已读标志
>
>消息已读时间
>
>消息作者（初期固定为system）

### 课程管理模块（教师）

#### 课程新建

* 课程名
* 课程描述
* 任课老师（固定为当前操作用户，不可修改）
* 老师联系方式（可选是否公开，不公开则只有成功选课的学生可以看到）
* 上课时间，每天分为上午、下午和晚上三个时段，每周共21个时段，至少勾选一个，最多可以勾选全部的21个时段，其中上午为9:00-12:00，下午为14:30-17:30，晚上为18：30-21:30，后期可以优化为自选时间段和重复形式
* 最大学生容量
* 开始日期
* 结束日期
* 课程收费情况，提供文本输入框供老师自行输入
* 相关技术字段由系统自动生成
  * 课程状态（新建为N for new，发布为A for active，下架为D for down， 删除为C for cancel）
  * 创建时间
  * 创建用户
  * 修改时间
  * 修改用户
  * 记录版本号

#### 课程修改

​	作为课程的管理员（即新建课程的用户），可以对课程的以下要素进行修改：

	> 课程名
	>
	> 课程描述
	>
	> 老师联系方式，以及是否公开的选项
	>
	> 上课时间
	>
	> 最大学生容量
	>
	> 开始日期
	>
	> 结束日期
	>
	> 课程收费情况

​	当发生以上要素修改时，向已选该课的学生发生站内消息通知查看课程最新信息

#### 课程发布

​	课程管理员可随时将课程改为发布状态，当课程变为发布状态时，所有学生可见，当未到达最大容量时，所有学生可选，当达到最大容量后，所有学生可见但不可选。

#### 课程下架

​	课程管理员可随时将课程改为下架状态，改为下架状态不影响已选课的学生

#### 课程删除

​	课程管理员可按需删除课程，一旦课程被删除，将会向已选该课的所有学生发布站内消息，通知课程已被取消并告知老师联系方式。

#### 课程查询

​	每个老师可以查看自己管理下的所有课程，但无法查看其他老师的课程信息，课程内除了课程定义的信息以外，会显示每个课程已选课的学生清单，清单内包含以下信息：

> 选课学生序号，从小到大排序
>
> 选课学生用户名
>
> 选课学生姓名
>
> 选课学生性别
>
> 选课学生联系方式
>
> 选课时间（即提交选课申请的时间）

​	每个学生的信息后提供删除按钮（需要确认按钮），删除后可将该学生的选课操作拒绝（即默认为接受），一旦删除，将会向该学生发送被拒绝选课的站内信息，包括操作的老师的联系方式

### 课程管理模块（学生）

#### 课程查询

​	学生可以查看到所有目前正在发布状态的课程

#### 课程报名

​	如果查询到的发布状态的课程未到最大学生容量，则随时可以发起选课申请，一旦确认提交后，视为选课成功，学生选课无法自行选择时间段，一旦选课即认同课程的授课时间。

#### 课程取消

​	学生一旦确认选课后，无法自行取消选课，需要通过选课后公布的老师联系方式，私下联系老师，由老师代为操作取消选课

#### 我的课程

​	学生可以查看到自己说选择的课程清单，包括课程的所有信息，以及自己的选课申请提交时间

### 系统设置模块

#### 邀请码管理

​	超级管理员用户可以对邀请码进行操作，包括新增，修改与删除，邀请码有以下属性

> 邀请码值（自动生成，不可修改）
>
> 邀请码可以使用的最大人数（新增可以自定义，后续可以修改为大于已使用人数的任意值）
>
> 邀请码是否有效（新增默认为有效，但超管可随时修改为失效）
>
> 相关技术字段由系统生成（创建用户、创建时间、修改时间、修改用户，修改操作发生的ip地址）





